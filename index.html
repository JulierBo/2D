<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D Smart Manager</title>
    <style>
        /* CSS Reset & Base */
        * { box-sizing: border-box; font-family: sans-serif; }
        body { background-color: #f0f2f5; margin: 0; padding: 0; }
        .container { max-width: 450px; margin: 0 auto; background: white; min-height: 100vh; display: flex; flex-direction: column; }

        /* Header Section */
        header { background: #1e293b; color: white; padding: 15px; }
        .header-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .name-box { display: flex; gap: 5px; margin-bottom: 10px; }
        .name-box input { flex: 1; padding: 10px; border-radius: 5px; border: none; }
        .name-box button { background: #3b82f6; color: white; border: none; padding: 0 15px; border-radius: 5px; font-weight: bold; }
        .tags { display: flex; flex-wrap: wrap; gap: 5px; margin-bottom: 10px; }
        .tag { background: #475569; padding: 4px 8px; border-radius: 4px; font-size: 11px; display: flex; align-items: center; gap: 5px; }
        .tag span { color: #f87171; cursor: pointer; font-weight: bold; }
        select { width: 100%; padding: 10px; border-radius: 5px; font-weight: bold; border: 2px solid #3b82f6; }

        /* Win Section */
        .win-bar { background: #f3e8ff; padding: 12px; display: flex; gap: 10px; border-bottom: 1px solid #ddd; }
        #winIn { width: 70px; text-align: center; font-size: 20px; font-weight: bold; border: 2px solid #9333ea; border-radius: 8px; }
        .btn-win { flex: 1; background: #9333ea; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* --- ·Äï·Äë·Äô·ÄÜ·ÄØ·Ä∂·Ä∏·Ä°·ÄÄ·Äº·Ä≠·Äô·Ä∫·Äï·Ä±·Ä∏·ÄÅ·Ä≤·Ä∑·Äû·Ä±·Ä¨ ·Äá·Äö·Ä¨·Ä∏·ÄÄ·ÄΩ·ÄÄ·Ä∫ Design ·Ä°·ÄÖ·ÄÖ·Ä∫ --- */
        .list-container { flex: 1; overflow-y: auto; padding: 0; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #f8fafc; color: #64748b; font-size: 12px; padding: 10px; border-bottom: 1px solid #eee; text-align: center; }
        
        /* ·Ä§·Äî·Ä±·Äõ·Ä¨·Äû·Ää·Ä∫ ·Ä°·Äì·Ä≠·ÄÄ ·Äï·Äº·ÄÑ·Ä∫·ÄÜ·ÄÑ·Ä∫·Äë·Ä¨·Ä∏·Äû·Ä±·Ä¨ ·Äá·Äö·Ä¨·Ä∏·ÄÄ·ÄΩ·ÄÄ·Ä∫ ·Äï·ÄØ·Ä∂·ÄÖ·Ä∂·Äñ·Äº·ÄÖ·Ä∫·Äû·Ää·Ä∫ */
        td { padding: 15px 5px; border-bottom: 1px solid #f1f1f1; text-align: center; vertical-align: middle; }
        .td-num { color: #2563eb; font-size: 22px; font-weight: 800; } /* ·ÄÇ·Äè·Äî·Ä∫·Ä∏·Ä°·Äï·Äº·Ä¨·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·ÄÄ·Äº·ÄÆ·Ä∏ */
        .td-amt { font-size: 16px; font-weight: bold; color: #334155; } /* ·ÄÑ·ÄΩ·Ä±·Äï·Äô·Ä¨·Äè */
        .td-name { font-size: 11px; color: #f97316; font-weight: bold; text-transform: uppercase; } /* ·Äî·Ä¨·Äô·Ää·Ä∫·Äú·Ä≠·Äô·Äπ·Äô·Ä±·Ä¨·Ä∫·Äõ·Ä±·Ä¨·ÄÑ·Ä∫·Ä°·Äû·Ä±·Ä∏ */
        
        .btn-del { color: #ef4444; border: 1px solid #fee2e2; background: #fee2e2; border-radius: 50%; width: 25px; height: 25px; cursor: pointer; font-weight: bold; }

        /* Footer */
        .footer { padding: 15px; background: #f8fafc; border-top: 1px solid #ddd; display: flex; justify-content: space-between; align-items: center; }
        .clear-all { background: white; color: #ef4444; border: 1px solid #fca5a5; padding: 5px 10px; border-radius: 5px; font-size: 11px; font-weight: bold; cursor: pointer; }
        .total-box { text-align: right; }
        .total-box small { font-size: 10px; color: #94a3b8; display: block; }
        .total-box b { font-size: 28px; color: #dc2626; font-weight: 900; }

        /* Keypad */
        .keypad { background: #e2e8f0; padding: 15px; border-top-left-radius: 20px; border-top-right-radius: 20px; }
        .key-inputs { display: grid; grid-template-cols: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        .key-inputs input { padding: 12px; text-align: center; font-size: 24px; font-weight: bold; border-radius: 10px; border: 2px solid #94a3b8; outline: none; }
        #num { border-color: #3b82f6; background: white; }
        #amt { border-color: #22c55e; }
        
        .grid { display: grid; grid-template-cols: repeat(4, 1fr); gap: 6px; }
        .btn { background: white; border: none; padding: 15px 0; border-radius: 8px; font-size: 20px; font-weight: bold; box-shadow: 0 2px 4px rgba(0,0,0,0.1); cursor: pointer; }
        .btn-orange { background: #f97316; color: white; }
        .btn-green { background: #16a34a; color: white; grid-row: span 2; }
        .btn-red { background: #ef4444; color: white; }
        .btn-dark { background: #334155; color: white; font-size: 12px; padding: 10px 0; }
        .sp-grid { grid-template-cols: repeat(3, 1fr); margin-top: 6px; }

        /* Overlay */
        .overlay { position: fixed; inset: 0; background: white; z-index: 100; display: none; flex-direction: column; padding: 20px; }
        .active { display: flex !important; }
        .close { font-size: 30px; text-align: right; cursor: pointer; color: #999; }
        .win-header { background: #9333ea; color: white; padding: 30px; border-radius: 20px; text-align: center; margin-bottom: 20px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <div class="header-row">
            <h3 style="margin:0; color:#38bdf8;">2D PRO MANAGER</h3>
            <button onclick="showPage('histPage')" style="background:#475569; color:white; border:none; padding:5px 10px; border-radius:4px; font-size:11px; cursor:pointer;">üìú HISTORY</button>
        </div>
        <div class="name-box">
            <input type="text" id="newName" placeholder="·Äî·Ä¨·Äô·Ää·Ä∫·Ä°·Äû·ÄÖ·Ä∫">
            <button onclick="addName()">ADD</button>
        </div>
        <div id="tags" class="tags"></div>
        <select id="selName"></select>
    </header>

    <div class="win-bar">
        <input type="number" id="winIn" placeholder="·Äï·Ä±·Ä´·ÄÄ·Ä∫">
        <button class="btn-win" onclick="checkWin()">·Äï·Ä±·Ä´·ÄÄ·Ä∫·ÄÇ·Äè·Äî·Ä∫·Ä∏·ÄÖ·ÄÖ·Ä∫·Äô·Ää·Ä∫</button>
    </div>

    <div class="list-container">
        <table>
            <thead>
                <tr>
                    <th>·ÄÇ·Äè·Äî·Ä∫·Ä∏</th>
                    <th>·ÄÑ·ÄΩ·Ä±</th>
                    <th>·Ä°·Äô·Ää·Ä∫</th>
                    <th>-</th>
                </tr>
            </thead>
            <tbody id="listBody"></tbody>
        </table>
    </div>

    <div class="footer">
        <button class="clear-all" onclick="clearData()">CLEAR ALL</button>
        <div class="total-box">
            <small>TOTAL AMOUNT</small>
            <b id="total">0</b>
        </div>
    </div>

    <div class="keypad">
        <div class="key-inputs">
            <input type="number" id="num" placeholder="·ÄÇ·Äè·Äî·Ä∫·Ä∏
