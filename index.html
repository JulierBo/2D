<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KKuser2D</title>
    <style>
        * { box-sizing: border-box; font-family: sans-serif; }
        body { background-color: #f1f1f1; margin: 0; padding: 0; }
        .app { width: 100%; max-width: 450px; margin: 0 auto; background: #5a5a8a; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* Header */
        header { background: #eeeeee; padding: 10px; border-bottom: 2px solid #ccc; }
        .row { display: flex; align-items: center; gap: 8px; }
        select { flex: 1; padding: 10px; border-radius: 5px; border: 2px solid #3b82f6; font-size: 16px; font-weight: bold; }
        .btn-blue { background: #3b82f6; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-weight: bold; }

        /* Table Section - အမြဲတမ်း ပေါ်နေမည့် ဇယားကွက် */
        .content-area { background: white; border-top: 5px solid #5a5a8a; }
        .table-header-row { padding: 10px; border-bottom: 2px solid #3b82f6; display: flex; justify-content: space-between; align-items: center; }
        .table-title { font-weight: bold; font-size: 18px; color: #333; }
        .badge { background: #3b82f6; color: white; border-radius: 50%; padding: 2px 8px; font-size: 12px; }

        .scroll-box { height: 250px; overflow-y: auto; background: white; } /* ဇယားကွက် အမြင့်ကို သတ်မှတ်ထားသည် */
        table { width: 100%; border-collapse: collapse; }
        th { background: #f1f1f1; color: #444; font-size: 14px; padding: 12px 5px; border: 1px solid #ddd; }
        td { text-align: center; padding: 12px 5px; border: 1px solid #eee; font-weight: bold; font-size: 16px; color: #333; }
        .empty-msg { text-align: center; color: #ccc; padding: 50px 0; font-size: 22px; font-style: italic; }

        /* Control Bars */
        .control-bar { background: #333d52; padding: 10px; display: flex; justify-content: space-between; align-items: center; }
        .btn-clear { background: #e54d42; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-weight: bold; }
        .total-text { color: #2ecc71; font-size: 24px; font-weight: bold; }
        .btn-save { background: #3b82f6; color: white; border: none; padding: 10px 15px; border-radius: 5px; font-weight: bold; }

        .slip-row { background: #1c2536; color: white; padding: 12px; display: flex; justify-content: space-between; align-items: center; font-size: 14px; }
        .slip-num { background: #d4ac0d; color: black; padding: 2px 10px; border-radius: 10px; font-weight: bold; }

        /* Keyboard Area */
        .keyboard { background: white; padding: 15px; }
        .key-top { display: grid; grid-template-cols: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
        .kb-btn { padding: 12px; border: none; border-radius: 8px; color: white; font-weight: bold; }
        .input-box-row { display: grid; grid-template-cols: 1fr 1fr 1fr; gap: 8px; margin-bottom: 10px; }
        .display-box { border: 2px solid #3b82f6; border-radius: 8px; padding: 12px; text-align: center; font-weight: bold; font-size: 18px; background: #f9f9f9; }

        .key-grid { display: grid; grid-template-cols: repeat(4, 1fr); gap: 10px; }
        .k { background: white; border: 2px solid #3b82f6; border-radius: 10px; padding: 18px 0; font-size: 22px; font-weight: bold; cursor: pointer; }
        .k-red { background: #e54d42; color: white; border: none; }
        .k-green { background: #2ecc71; color: white; border: none; grid-row: span 2; }
    </style>
</head>
<body>

<div class="app">
    <header>
        <div class="row">
            <span style="font-weight:bold; font-size:18px;">အမည်:</span>
            <select id="user">
                <option>Admin (15/80)</option>
            </select>
            <button class="btn-blue">Admin</button>
        </div>
    </header>

    <div class="content-area">
        <div class="table-header-row">
            <span class="table-title">လောင်းကြေးများ</span>
            <span class="badge" id="count">0</span>
        </div>
        <div class="scroll-box">
            <table id="myTable">
                <thead>
                    <tr>
                        <th>ဂဏန်း</th>
                        <th>ငွေပမာဏ</th>
                        <th>အမျိုးအစား</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="tbody">
                    </tbody>
            </table>
            <div id="empty" class="empty-msg">လောင်းကြေးမရှိသေးပါ</div>
        </div>
    </div>

    <div class="control-bar">
        <button class="btn-clear" onclick="clearAll()">Clear All</button>
        <div class="total-text" id="total">0</div>
        <button class="btn-save" onclick="save()">Save</button>
    </div>

    <div class="slip-row">
        <span>စုစုပေါင်း Slip:</span>
        <span class="slip-num">1</span>
    </div>

    <div class="keyboard">
        <div class="key-top">
            <button class="kb-btn" style="background:#3b82f6;">CopyPaste</button>
            <button class="kb-btn" style="background:#2ecc71;">UnitKeyboard</button>
        </div>
        <div class="input-box-row">
            <div class="display-box" id="numView" style="color:#3b82f6;">ဂဏန်း</div>
            <input type="number" id="amtIn" class="display-box" placeholder="ငွေ" style="width:100%;">
            <div class="display-box" style="color:#777;">ယုနစ်</div>
        </div>
        <div class="key-grid">
            <button class="k" onclick="typeNum('7')">7</button>
            <button class="k" onclick="typeNum('8')">8</button>
            <button class="k" onclick="typeNum('9')">9</button>
            <button class="k k-red" onclick="action('R')">R</button>
            <button class="k" onclick="typeNum('4')">4</button>
            <button class="k" onclick="typeNum('5')">5</button>
            <button class="k" onclick="typeNum('6')">6</button>
            <button class="k k-red" onclick="action('ပါ')">အပါ</button>
            <button class="k" onclick="typeNum('1')">1</button>
            <button class="k" onclick="typeNum('2')">2</button>
            <button class="k" onclick="typeNum('3')">3</button>
            <button class="k k-green" onclick="addBet()">OK</button>
            <button class="k" onclick="typeNum('0')">0</button>
            <button class="k" onclick="typeNum('00')">00</button>
            <button class="k k-red" onclick="del()">DEL</button>
        </div>
    </div>
</div>

<script>
    let list = [];
    let cur = "";

    function typeNum(v) {
        if(v==='00') cur = "00";
        else if(cur.length >= 2) cur = v;
        else cur += v;
        document.getElementById('numView').innerText = cur;
    }

    function del() { cur = ""; document.getElementById('numView').innerText = "ဂဏန်း"; }

    function addBet() {
        let amt = document.getElementById('amtIn').value;
        if(!cur || !amt) return;
        list.push({ n: cur.padStart(2,'0'), a: amt, t: "ပုံမှန်" });
        cur = ""; render(); del();
    }

    function action(type) {
        let amt = document.getElementById('amtIn').value;
        if(!amt) return alert("ငွေထည့်ပါ");
        if(type === 'R') {
            if(cur.length < 2) return;
            let rev = cur.split('').reverse().join('');
            list.push({ n: cur, a: amt, t: "R" });
            if(cur !== rev) list.push({ n: rev, a: amt, t: "R" });
        } else if(type === 'ပါ') {
            for(let i=0; i<=9; i++) {
                list.push({ n: cur+i, a: amt, t: "အပါ" });
                if(cur!=i) list.push({ n: i+cur, a: amt, t: "အပါ" });
            }
        }
        cur = ""; render(); del();
    }

    function render() {
        const body = document.getElementById('tbody');
        const empty = document.getElementById('empty');
        body.innerHTML = "";
        
        if(list.length > 0) {
            empty.style.display = "none";
            document.getElementById('myTable').style.display = "table";
        } else {
            empty.style.display = "block";
            document.getElementById('myTable').style.display = "none";
        }

        let total = 0;
        list.forEach((item, idx) => {
            total += parseInt(item.a);
            body.innerHTML += `<tr>
                <td>${item.n}</td>
                <td>${item.a}</td>
                <td style="color:red;">${item.t}</td>
                <td><button onclick="remove(${idx})" style="color:red; border:none; background:none; font-size:20px;">&times;</button></td>
            </tr>`;
        });
        document.getElementById('total').innerText = total;
        document.getElementById('count').innerText = list.length;
    }

    function remove(i) { list.splice(i, 1); render(); }
    function clearAll() { if(confirm("ဖျက်မှာလား?")) { list = []; render(); } }
    function save() { alert("Saved!"); list = []; render(); }
</script>

</body>
</html>
